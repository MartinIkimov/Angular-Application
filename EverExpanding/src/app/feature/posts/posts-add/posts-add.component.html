<main>
    <section
            class="bg-altGrey rounded border border-2 border-darkGreen position-absolute top-50 start-50 translate-middle">
        <div class="container p-0">
            <div class="text-center my-4 text-white">
                <h2>New Post</h2>
            </div>
            <div class="row mx-5">
                <div class="col p-0 m-2">
                    <form [formGroup]="addPostFormGroup" (ngSubmit)="addPost()" id="form1" enctype="multipart/form-data">

                        <div class="row g-2">

                            <div class="form-floating mb-3">
                                <input formControlName="title" name="title" type="text" class="form-control" id="floatingTitle"
                                       placeholder="Title">
                                <label for="floatingTitle">Title</label>
                                <ng-container *ngIf="addPostFormGroup.controls['title'].touched && addPostFormGroup.controls['title'].invalid">
                                    <small *ngIf="addPostFormGroup.controls['title'].errors.required" id="titleError" class="text-danger">Title must not be empty</small>
                                </ng-container>
                                
                            </div>

                            <div class="form-floating mb-3">
                                <input formControlName="categories" name="categories" type="text" class="form-control" id="exampleText"
                                       placeholder="Category">
                                <label for="exampleText">Categories</label>

                                <ng-container *ngIf="addPostFormGroup.controls['categories'].touched && addPostFormGroup.controls['categories'].invalid">
                                    <small *ngIf="addPostFormGroup.controls['categories'].errors.required" id="titleError" class="text-danger">Your post must have at least one category</small>
                                </ng-container>

                            </div>
                            <div class="form-floating mb-3">
                                <textarea formControlName="description" name="description" class="form-control" placeholder="Description"
                                          id="floatingTextarea2"
                                          style="height: 100px"></textarea>
                                <label for="floatingTextarea2">Description</label>
                                <ng-container *ngIf="addPostFormGroup.controls['description'].touched && addPostFormGroup.controls['description'].invalid">
                                    <small *ngIf="addPostFormGroup.controls['description'].errors.required" id="titleError" class="text-danger">Description must not be empty</small>
                                </ng-container>
                                <small id="descriptionError"
                                       class="text-danger"></small>
                            </div>
                            <div class="text-white">
                                <div class="mb-3">
                                    <label for="formFileMultiple" class="form-label">Picture</label>
                                    <input (change)="onFileChanged($event)" name="multipartFile" class="form-control" type="file" multiple="multiple" id="formFileMultiple" multiple>
                                </div>
                            </div>
                        </div>

                        <div id="hoverable-btn">
                            <a (click)="addPost()" type="submit"><span>SUBMIT</span></a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
</main>
